<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>QuarkLang</title>
    <style>
        body { width: 50em; margin: auto; }
        pre { padding: 1em; border: 1px solid grey; }

        red { color: #d24; }
        blue { color: #05e; }
        green { color: green; }
        grey { color: grey; }
    </style>
</head>

<body>
    <h1>Quark</h1>
    <p>Low level, memory safe C alternative. You want to manage raw binary? We got you covered.</p>

    <h2>The Bytes Type</h2>

    <p>The new <strong>bytes</strong> type (which replaces pointers) stores its start and end position in memory, preventing you from performing IO outside of allocated space. Additionally, it stores a "cursor" pointing towards the beginning of its memory. Indexing a bytes returns a new bytes with its cursor shifted. The "<-" operator copies memory to and from bytes.</p>
    <p>The <strong>allocate</strong> operator returns a new bytes with the size of the argument (int).</p>
    <p>The <strong>sizeof</strong> operator returns the size of the argument (variable or datatype) in bytes as an integer. Remember that different datatypes may have different sizes depending on the OS. When used on a bytes <i>variable</i> it returns the size of the allocation. When used on the bytes <i>type</i> it returns the size of three addresses (which is what a bytes variable is stored as).</p>
    
    <pre>
        
<red>bytes</red> <blue>data</blue> = <red>allocate</red> <green>1024</green>;
<blue>data</blue> <- <green>"cats"</green>;
<blue>data</blue>[<red>sizeof</red> <green>"cats"</green>] <- <green>" and dogs"</green>;

print(<green>"%s"</green>, <blue>data</blue>); <grey>// "cats and dogs"</grey>
print(<green>"%c"</green>, <blue>data</blue>); <grey>// 'c'</grey>

<red>char</red> <blue>first_letter</blue> <- <blue>data</blue>; <grey>// 'c'</grey>
    </pre>

    <pre>

<red>bytes</red> <blue>data</blue> = <red>allocate</red> <green>1024</green>;
<red>bytes</red> <blue>portion</blue> = <blue>data</blue>[<green>5</green> <red>int</red>];

<grey>// all three of these assignments have the same result</grey>
<blue>data</blue>[<red>sizeof int</red> * <green>5</green>] <- <green>20</green>;
<blue>data</blue>[<green>5</green> <red>int</red>] <- <green>20</green>;
<blue>portion</blue> <- <green>20</green>;
    </pre>

    <p>You can already see how this bytes type already covers the function of strings, arrays, tuples, and unions.</p>

    <h2>Functions</h2>

    <p>Just as in C, functions in Quark are always pass by value.</p>

    <pre>
        
bruh
    </pre>
</body>

</html>
